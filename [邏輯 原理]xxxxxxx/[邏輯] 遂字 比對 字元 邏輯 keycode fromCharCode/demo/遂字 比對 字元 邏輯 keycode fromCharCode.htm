<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>遂字 比對 字元 邏輯 keycode fromCharCode</title>

<script src="jquery.js"></script>


<!--taintestinfo 測試開始-->
<script>
$.extend({
	tainTestInfo: function(options){
		var defaults = {className:"info", amount:3, width:200, posH:"right", posV:"top"};
		var settings = $.extend( defaults, options);
		var sTestInfoHtml='';
		sTestInfoHtml += '<div class="'+settings.className+'" style="width:'+settings.width+'px; height:auto; padding:10px; background-color:rgba(0, 0, 0, 0.5); position:fixed; '+settings.posH+':0px; '+settings.posV+':0px;  z-index:1000;">'
		for(var i=0; i<settings.amount; i++){
			sTestInfoHtml += '<div class="'+settings.className+'_'+i+'" style="border:1px solid #000; margin-bottom:5px; color:#fff;">--</div>';
		};
		sTestInfoHtml += '</div>'
		$("body").append(sTestInfoHtml);
	}
});


$(function(){
	$.tainTestInfo({className:"info", amount:4, width:200, posH:"right", posV:"top"}); 
	$(".info_0").html("--");
});
</script>
<!--taintestinfo 測試結束-->


<script>
$(function(){
	
	var pw = "ABC1234" //答案
	var pwBuffer = "" //輸入的字元暫存
	
	//答對
	function fnGo(){
		$(".info_1").html("答對了");//////
		$("#mypw").val("");
		pwBuffer=""
	}
	
	//清空暫存
	function fnClearBuffer(){
		$("#mypw").val("");
		pwBuffer=""
		$(".info_0").html("--");//////
	};
	
	
	$("#mypw").on("keyup", function(e){
		pwBuffer +=  String.fromCharCode(e.which); //接收已輸入到暫存
		$(".info_0").html(pwBuffer);//////
		
		if( pw.substring(0, pwBuffer.length) == pwBuffer){  //截字元，遂字比對目前輸出
			if (pw.length == pwBuffer.length){  //滿足所有字元
				fnGo();
			}
		}else{
			fnClearBuffer()
		}
	})
	
	
	
	
});



</script>

</head>

<body>



<h1>遂字 比對 字元 邏輯 keycode fromCharCode</h1>

<p>本例： 要輸入指定的正確答案。</p>


<input id="mypw" type="text">
<h3>答案： ABC1234</h3>






</body>
</html>
