<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>無標題文件</title>
<style>
/*控制pre*/
pre { border:2px solid pink; padding:5px; font-size:12px; background:#fff; clear:both; font-size:12px; font-family:Verdana; white-space: pre-wrap;
word-wrap: break-word;}
pre strong { color:#CC0000; }
pre em { font-style:normal; font-weight:bold; color:#006600; }



.gallery_1{ background:#CCC; width:450px; padding:10px; }
.gallery_1 .box_1{ border:3px solid green; }


</style>

<script src="js/jquery.js"></script>
<script src="js/TweenMax.js"></script>



<script>

$(function(){
	
	var iNo = 1 //因為是檔名序
	var iTotal = 9 //總數
	var bAutoPlay = true //自動播
	var $Pic = $(".box_1 img")
	
	//轉場換圖=======================
	function fnChangePic(){
		TweenMax.to( $Pic, 0.3, {css:{opacity:0}, ease:Expo.easeIn, onComplete:function(){
				$Pic.attr("src","images/pic_"+ iNo +".jpg");
           		 TweenMax.to($Pic, 0.3, {css:{opacity:1}, ease:Expo.easeOut});
        	}}
		);
	};
	
	//上一張========================
	function fnPrev(){
		iNo--;
		if(iNo<1){iNo = iTotal};
		fnChangePic();
	};
	
	//下一張========================
	function fnNext(){
		iNo++;
		if(iNo>iTotal){iNo = 1};
		fnChangePic();
	};
	
	//自動播停====================
	function fnAutoPlay(){
		if( bAutoPlay == true){
			 oTimer = setInterval(fnNext, 3000);
		}else{
			clearInterval(oTimer);
		};
	};
	
	//按鈕控制===================================
	$(".btn_pause").click(function(){
		$(this).hide();
		$(".btn_play").show();
		bAutoPlay = false
		fnAutoPlay();
	});
	
	$(".btn_play").click(function(){
		$(this).hide();
		$(".btn_pause").show();
		bAutoPlay = true
		fnAutoPlay();
	});
	
	$(".btn_prev").click(fnPrev);
	
	$(".btn_next").click(fnNext);
	
	
	//初始=================
	fnAutoPlay();
	
	
	
	
	
	
});


</script>

</head>

<body>
<h1>TweenMax</h1>
<div class="menu">
    <a class="btn_prev" href="javascript:void(0)">上一張</a>
    <a class="btn_next" href="javascript:void(0)">下一張</a>
    <a class="btn_play" style="display:none;" href="javascript:void(0)">播放</a>
    <a class="btn_pause" href="javascript:void(0)">暫停</a>
</div>

<div class="gallery_1">
	<!--組 開始-->
    <div class="box_1">
    <img src="images/pic_1.jpg" width="400" height="400" />
    </div>
    <!--組 結束-->
   
</div>




</body>
</html>
