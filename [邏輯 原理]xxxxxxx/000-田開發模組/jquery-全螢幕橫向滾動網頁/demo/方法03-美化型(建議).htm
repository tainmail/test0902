<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>全螢幕橫向滾動</title>
<style>
* { margin:0; padding:0px; }
ul{ list-style:none;}
/*清除 clearfix*/
.clearfix:after { content: "."; display: block; height: 0; clear: both; visibility: hidden; }
.clearfix {*zoom: 1; _zoom: 1; }

/*控制pre*/
.my_code { border:1px solid orange; padding:5px; }
.my_code pre { border:2px solid pink; padding:5px; font-size:12px; background:#fff; clear:both; font-size:12px; }
.my_code pre strong { color:#CC0000; }
.my_code pre em { font-style:normal; font-weight:bold; color:#006600; }




body { position:relative; overflow:hidden; background:#000; }

/*分頁組*/
.pager { height:40px; padding-top:10px; border-bottom:1px solid #444;
background: #f78d1d;
background: -webkit-gradient(linear, left top, left bottom, from(#faa51a), to(#f47a20));
background: -moz-linear-gradient(top,  #faa51a,  #f47a20); }
.pager ul{ width:1000px; height:50px;  margin:0 auto;}
.pager li{ float:left; margin-right:10px;}
.pager a:link, .pager a:visited{ text-decoration:none; font-size:15px;
-webkit-border-radius: 3px; 
-moz-border-radius: 3px;
border-radius: 3px;

color: #606060;
border: solid 1px #b7b7b7;
background: #fff;
background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#ededed));
background: -moz-linear-gradient(top,  #fff,  #ededed); 
}
.pager a:hover, .pager a:active{
background: #ededed;
background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#dcdcdc));
background: -moz-linear-gradient(top,  #fff,  #dcdcdc); 
}

.pager a{ display:block; width:30px; height:30px; border:1px solid #ccc; background:#fff; text-align:center; line-height:30px;}
.pager a.current:link, .pager a.current:visited{ color: #e9e9e9;
border: solid 1px #555;
background: #6e6e6e;
background: -webkit-gradient(linear, left top, left bottom, from(#888), to(#575757));
background: -moz-linear-gradient(top,  #888,  #575757);}
.pager a.current:hover, .pager a.current:active{ 
background: #616161;
background: -webkit-gradient(linear, left top, left bottom, from(#757575), to(#4b4b4b));
background: -moz-linear-gradient(top,  #757575,  #4b4b4b);}

.pager a.btn_start, .pager a.btn_end{ width:60px;}

/*操作組*/
.operate{}
.operate .btn_prev{display:block; width:50px; height:50px; background:url(images/btn_prev.gif) no-repeat; position:fixed; top:40%; left:30px; z-index:100; opacity:0.7;}
.operate .btn_next{display:block; width:50px; height:50px; background:url(images/btn_next.gif) no-repeat; position:fixed; top:40%; right:30px; z-index:100; opacity:0.7;}
.operate .btn_prev span, .operate .btn_next span{ display:none;}

/*滾動組*/
.run { width:100%;/*參考值-寬js控制*/ height:90%;  position:fixed; /*fixed適應高*/}

/*組容器(100%)*/
.run .box { width:100%;/*參考值-寬js控制*/ height:100%; float:left; margin-left:0% 
background: #333;
background: -webkit-gradient(linear, left top, left bottom, from(#666), to(#000));
background: -moz-linear-gradient(top,  #666,  #000);}
/*內容物自訂高*/
.run .box .inside { width:1000px; height:600px; background:#ccc; margin:auto; }



</style>
<script src="js/jquery.js"></script>
<script src="js/jquery.scrollto-min.js"></script>
<script>
$(function(){
	
	//初始-取得滾動組容器數量
	var iAmount = $(".run .box").length
	
	//初始-定義當前序
	var iActiveNo=0;
	
	//初始-css
	$(".run").css({  //滾動組3個為300%
		"width":(100*iAmount)+"%" 
	});
	$(".run .box").css({ //容器3個為 33.3%
		"width":(100/iAmount)+"%"
	});
	
	//初始-寫入分頁結構
	var sPagerTxt="";
	sPagerTxt += '<ul>';
	$.each( $(".run .box"), function(i){
		sPagerTxt +='<li><a class="btn" href="javascript:void(0)"><span>'+(i+1)+'</span></a></li>';
	});
	sPagerTxt += '<li><a class="btn_start" href="javascript:void(0)"><span>最前</span></a></li><li><a class="btn_end" href="javascript:void(0)"><span>最後</span></a></li></ul>';
	$(".pager").prepend(sPagerTxt);
	
	
	//狀態-在第一頁
	function fnOnStart (){
		$(".btn_prev").hide();
		$(".btn_next").show();
		$(".btn_start").hide();
		$(".btn_end").show();
		$(".pager a.btn:first").addClass("current");
	}
	//狀態-在中間頁
	function fnOnProcess (){
		$(".btn_prev, .btn_next").show();
		$(".btn_start, .btn_end").show();
	}
	
	//狀態-在最未頁
	function fnOnEnd (){
		$(".btn_prev").show();
		$(".btn_next").hide();
		$(".btn_start").show();
		$(".btn_end").hide();
	}
	
	//初始-第一頁
	fnOnStart();
	
	
	//換頁後的 當前序
	function fnActive(){
		var iBodyW = $("body").width();
		var iMargin = $(".run").css("margin-left")
		
		if(parseInt(iMargin)!=0){
			if ($.browser.webkit) { //css值 webkit 解釋為%， moz ms 解釋為px
				iActiveNo = Math.abs(iMargin.split("00%", 1))
			}else{
				iMargin = Math.abs(iMargin.split("px", 1))
				iActiveNo= iMargin/iBodyW
			}
		}else{
			iActiveNo=0
		}
		
		//上下頁顯示控制
		if(iActiveNo<1){
			fnOnStart()
		}else if(iActiveNo<(iAmount-1)){
			fnOnProcess()
		}else{
			fnOnEnd()
		}
		
		
		//當前分頁高亮
		$(".pager a.btn").removeClass("current").eq(iActiveNo).addClass("current");
	}
	
	
	/*按鈕-分頁*/
	$(".pager .btn").click(function(){
		var iNo=$(".pager .btn").index(this);
		var iMargin
		if(iNo==0){
			iMargin = "0%"
		}else{
			iMargin = (iNo*100 * -1)+"%";
		}
		$(".run").animate({"margin-left": iMargin},function(){fnActive()} );
	});
	
	/*按鈕-到最前*/
	$(".pager .btn_start").click(function(){
		$(".run").animate({"margin-left":"0%"},function(){fnActive()});
	});
	
	/*按鈕-到最後*/
	$(".pager .btn_end").click(function(){
		var iMargin = ((iAmount-1) * 100 * -1) + "%";
		$(".run").animate({"margin-left": iMargin},function(){fnActive()});
	});
	
	/*按鈕-上一頁*/
	$(".operate .btn_prev").click(function(){
		iMargin = ((iActiveNo-1)*100 * -1)+"%";
		$(".run").animate({"margin-left": iMargin},function(){fnActive()});
	});
	
	/*按鈕-下一頁*/
	$(".operate .btn_next").click(function(){
		iMargin = ((iActiveNo+1)*100 * -1)+"%";
		$(".run").animate({"margin-left": iMargin}, function(){fnActive()});
	});
	
	
	
		
});
</script>
</head>

<body>
<!--導航組 開始-->
<div class="pager">
	<!--
    <ul>
    	<li><a class="btn_start" href="javascript:void(0)"><span>最前</span></a></li>
        <li><a class="btn" href="javascript:void(0)"><span>1</span></a></li>
        <li><a class="btn" href="javascript:void(0)"><span>2</span></a></li>
        <li><a class="btn" href="javascript:void(0)"><span>3</span></a></li>
        <li><a class="btn" href="javascript:void(0)"><span>4</span></a></li>
        <li><a class="btn_end" href="javascript:void(0)"><span>最後</span></a></li>
    </ul>
	-->
   
    </div>
<!--導航組 結束-->

<!--操作 開始-->
<div class="operate">
    <a class="btn_prev" href="javascript:void(0)"><span>上一張</span></a> 
    <a class="btn_next" href="javascript:void(0)"><span>下一張</span></a>
</div>
<!--操作 結束-->
    
<!--滾動組 開始-->
<div class="run clearfix">
    <!--組 開始-->
    <div class="box box_1">
        <div class="inside">11111</div>
    </div>
    <!--組 結束-->
    <!--組 開始-->
    <div class="box box_2">
        <div class="inside">22222</div>
    </div>
    <!--組 結束-->
    <!--組 開始-->
    <div class="box box_3">
        <div class="inside">3333</div>
    </div>
    <!--組 結束-->
    <!--組 開始-->
    <div class="box box_4">
        <div class="inside">4444</div>
    </div>
    <!--組 結束-->
</div>
<!--滾動組 結束-->
</body>
</html>
