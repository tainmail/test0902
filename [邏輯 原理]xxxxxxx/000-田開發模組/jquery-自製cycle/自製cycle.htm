<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>常用片段</title>
<style>
/*控制pre*/
pre { border:2px solid pink; padding:5px; font-size:12px; background:#fff; clear:both; font-size:12px; }
pre strong { color:#CC0000; }
pre em { font-style:normal; font-weight:bold; color:#006600; }
.gallery_1 { }
.gallery_1 .run { border:1px solid red; width:150px; height:150px; position:relative; }
.gallery_1 .run .piece { width:150px; height:150px; background:gold; font-size:100px; }
</style>
<script src="js/jquery.js"></script>
<script>
$(function(){
	
	var iNo = 0;  //序
	var iDelay = 1500; //停留時間
	
	//輪替fn模組
	function fnTainCycle(){
		var iNoMax = $(".gallery_1 .run .piece").length -1; //序總數(從0開始所以個數減1)
		
		//初始隱藏
		$(".gallery_1 .run .piece").css({
			 "opacity":0,
			 "position":"absolute" ,
			 "left":0,
			 "top":0
		});
		
		//輪替動作
		$(".gallery_1 .run .piece").eq(iNo)
		.animate({"opacity":1}, 300)
		.animate({"opacity":1}, iDelay)
		.animate({"opacity":0}, 300, function(){
			(iNo == iNoMax) ? iNo=0 : iNo++ //序==總數，序歸0，否則序+1
			fnTainCycle(); //重複執行
		});
	}
	
	//初次調用
	fnTainCycle(); 
	
});

</script>
</head>

<body>
<table style="margin:0 auto;" width="1020" border="1" cellspacing="0" cellpadding="10">
    <tr>
        <td width="974"><h1>自製cycle</h1></td>
    </tr>
    <tr>
        <td><div class="gallery_1">
                <div class="run">
                    <div class="piece">1</div>
                    <div class="piece">2</div>
                    <div class="piece">3</div>
                    <div class="piece">4</div>
                </div>
            </div></td>
    </tr>
    <tr>
        <td>&nbsp;</td>
    </tr>
</table>
</body>
</html>
